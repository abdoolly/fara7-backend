# Migration `20200419012634-init`

This migration has been generated by abdoolly at 4/19/2020, 1:26:34 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Category" DROP CONSTRAINT IF EXiSTS "Category_ownerId_fkey",
ALTER COLUMN "ownerId" DROP NOT NULL;

ALTER TABLE "public"."Checklist" DROP CONSTRAINT IF EXiSTS "Checklist_ownerId_fkey",
ALTER COLUMN "ownerId" DROP NOT NULL;

ALTER TABLE "public"."Category" ADD FOREIGN KEY ("ownerId")REFERENCES "public"."User"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."Checklist" ADD FOREIGN KEY ("ownerId")REFERENCES "public"."User"("id") ON DELETE SET NULL  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200419004645-init..20200419012634-init
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider = "prisma-client-js"
@@ -28,10 +28,10 @@
   id            Int    @default(autoincrement()) @id
   title         String
   en_title      String
   ar_title      String
-  owner         User   @relation(name: "owner_rel",fields: [ownerId], references: [id])
-  ownerId       Int
+  owner         User?   @relation(name: "owner_rel",fields: [ownerId], references: [id])
+  ownerId       Int?
   collaborators User[] @relation(name: "collaborators_on_rel", references: [id])
   categories    Category[]
 }
@@ -40,10 +40,10 @@
   title       String
   en_title    String
   ar_title    String
   checklist   Checklist @relation(fields:[checklistId], references: [id])
-  owner       User      @relation(fields: [ownerId], references: [id])
-  ownerId     Int
+  owner       User?      @relation(fields: [ownerId], references: [id])
+  ownerId     Int?
   checklistId Int
   tasks       Task[]
 }
```


